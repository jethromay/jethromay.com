<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />

    {{ if .IsHome -}}
    <title>{{ .Site.Title }} - {{ $.Site.Params.title }}</title>
    {{- else -}}
    <title>{{ .Title }} â€“ {{ .Site.Title }}</title>
    {{- end }}

    {{ block "meta" . }}
    <meta name="description" content="{{if .IsHome}}{{ $.Site.Params.description }}{{else}}{{.Description}}{{end}}" />
    {{ end }}

    {{ with resources.Get "css/style.css" | resources.PostCSS  }}
        <style>{{ .Content | safeCSS }}</style>
    {{ end }}

    <link rel="alternate" type="application/rss+xml" href="/posts/index.xml" title="Jethro May: Posts" />

    <script src="https://cdn.jsdelivr.net/gh/alpinejs/alpine@v2.3.5/dist/alpine.min.js" defer></script>

    {{ if eq (getenv "HUGO_ENV") "production" }}
    <script>
        console.log('production')
    </script>
    {{ end }}
</head>

<body class="flex flex-col h-screen">
<!--<a class="skip-link" href="#main">Skip to main content</a>-->
{{ partial "header.html" . }}

<main id="main" class="flex-grow container mx-auto xs:px-4 sm:px-4 md:px-4 lg:px-0 md:mt-20 lg:mt-20">
    {{ block "main" . }} {{ end }}
</main>

{{ partial "footer.html" . }}
<script>
    !function (d, s, id) {
        var js,
            fjs = d.getElementsByTagName(s)[0];
        if (!d.getElementById(id)) {
            js = d.createElement(s);
            js.id = id;
            js.src = "//platform.twitter.com/widgets.js";
            fjs
                .parentNode
                .insertBefore(js, fjs);
        }
    }(document, "script", "twitter-wjs");
</script>
</body>
</html>
